"use strict";(()=>{var B=Object.defineProperty,G=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var w=(e,n,l)=>n in e?B(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,a=(e,n)=>{for(var l in n||(n={}))Y.call(n,l)&&w(e,l,n[l]);if(v)for(var l of v(n))U.call(n,l)&&w(e,l,n[l]);return e},s=(e,n)=>G(e,M(n));var u=[{label:"New dropdown",entries:[{uuid:"82ai-8ff3-93ap-8ks0",position:0,label:"Set in the settings",variant:"grey",color:""}]},{label:"Project status",entries:[{uuid:"16a8-2ee0-5dc0-8ca0",position:0,label:"Not Started",variant:"grey",color:""},{uuid:"11d28-23a50-474a0-6aef0",position:1,label:"Blocked",variant:"red",color:""},{uuid:"283c-5078-a0f0-f168",position:2,label:"In Progress",variant:"blue",color:""},{uuid:"79e0-f3c0-1e780-2db40",position:3,label:"Completed",variant:"green",color:""}]},{label:"Review status",entries:[{uuid:"ac44-15888-2b110-40998",position:0,label:"Not Started",variant:"grey",color:""},{uuid:"733c-e678-1ccf0-2b368",position:1,label:"In Progress",variant:"blue",color:""},{uuid:"d610-1ac20-35840-50460",position:2,label:"Under Review",variant:"yellow",color:""},{uuid:"eb28-1d650-3aca0-582f0",position:3,label:"Approved",variant:"green",color:""}]}];var d="Inter",C="#000",c="#FFF",W="#EBEBEB",_="#DDDDDD",Z="#B4B4B4",N="#979797",$="#777";var j="#29B95F",L="#277DFF",K="#00B6F0",q="#7522C5",J="#FAB020",Q="#FF730E",X="#D20000",tt={typo:{small:{fontFamily:d,fontSize:16,lineHeight:20,letterSpacing:0},medium:{fontFamily:d,fontSize:24,lineHeight:30,letterSpacing:-1},large:{fontFamily:d,fontSize:40,lineHeight:48,letterSpacing:-1},extraLarge:{fontFamily:d,fontSize:64,lineHeight:80,letterSpacing:-2},huge:{fontFamily:d,fontSize:96,lineHeight:120,letterSpacing:-2}},txt:{primary:{default:{color:C},inverted:{color:c}},secondary:{default:{color:$}},minor:{default:{color:Z}},link:{default:{color:L}}},border:{divider:{fill:_},container:{fill:_}},shadow:{container:{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:2},blur:12}},status:{green:{fill:j,color:c},orange:{fill:Q,color:c},red:{fill:X,color:c},yellow:{fill:J,color:c},lightBlue:{fill:K,color:c},blue:{fill:L,color:c},purple:{fill:q,color:c},black:{fill:C,color:c},grey:{fill:N,color:c}},radius:{container:{cornerRadius:8},chip:{cornerRadius:1e3}},layer:{default:{fill:c},active:{fill:W}},layout:{item:{title:{top:24,bottom:12,horizontal:32},action:{vertical:12,horizontal:32}},chips:{small:{vertical:8,horizontal:16},medium:{vertical:12,horizontal:24},large:{vertical:16,horizontal:32},extraLarge:{vertical:24,horizontal:48},huge:{vertical:32,horizontal:64}}}},o=tt;var{widget:et}=figma,{AutoLayout:it,Text:ot}=et;function nt(e){return figma.widget.h(it,a({name:"Chips",cornerRadius:o.radius.chip.cornerRadius,padding:e.size.padding,width:"fill-parent",horizontalAlignItems:"center",verticalAlignItems:"center"},o.status[e.variant]),figma.widget.h(ot,s(a({name:"Chips__content",width:"hug-contents",horizontalAlignText:"center",fill:o.status[e.variant].color},e.size.typo),{fontWeight:500}),e.content))}var I=nt;var{widget:lt}=figma,{AutoLayout:rt,Text:at}=lt;function st(e){return figma.widget.h(rt,{name:"ItemTitle",padding:o.layout.item.title,width:"fill-parent"},figma.widget.h(at,s(a({name:"ItemTitle__content",width:"hug-contents",horizontalAlignText:"left",fill:o.txt.primary.default.color},o.typo.small),{fontWeight:600}),e.content))}var O=st;var{widget:ct}=figma,{SVG:ut}=ct,p={plus:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 11V16.5H10.5V11H16V10H10.5V4.5H9.5V10H4V11H9.5Z" fill="${e}"/></svg>`,settings:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 3H14V5.05001C15.1411 5.28164 16 6.29052 16 7.5C16 8.70948 15.1411 9.71836 14 9.94999V17H13V9.94999C11.8589 9.71836 11 8.70948 11 7.5C11 6.29052 11.8589 5.28164 13 5.05001V3ZM12 7.5C12 6.67157 12.6716 6 13.5 6C14.3284 6 15 6.67157 15 7.5C15 8.32843 14.3284 9 13.5 9C12.6716 9 12 8.32843 12 7.5ZM5 12.5C5 11.6716 5.67157 11 6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5ZM7 14.95C8.14112 14.7184 9 13.7095 9 12.5C9 11.2905 8.14112 10.2816 7 10.05V3H6V10.05C4.85888 10.2816 4 11.2905 4 12.5C4 13.7095 4.85888 14.7184 6 14.95V17H7V14.95Z" fill="${e}"/></svg>`,dropdown:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4H13C14.6569 4 16 5.34315 16 7V13C16 14.6569 14.6569 16 13 16H7C5.34315 16 4 14.6569 4 13V7C4 5.34315 5.34315 4 7 4ZM3 7C3 4.79086 4.79086 3 7 3H13C15.2091 3 17 4.79086 17 7V13C17 15.2091 15.2091 17 13 17H7C4.79086 17 3 15.2091 3 13V7ZM13 8.5L10 12.5L7 8.5H13Z" fill="${e}"/></svg>`};function dt(e){var n,l;return figma.widget.h(ut,{name:"Icon",height:(n=e.size)!=null?n:20,width:(l=e.size)!=null?l:20,src:p[e.glyph](e.color)})}var R=dt;var{widget:gt}=figma,{AutoLayout:pt,Text:ft}=gt;function mt(e){return figma.widget.h(pt,{name:"ItemAction",padding:o.layout.item.action,width:"fill-parent",direction:"horizontal",verticalAlignItems:"center",spacing:12,hoverStyle:{fill:o.layer.active.fill},onClick:e.onClick},e.glyph&&figma.widget.h(R,{glyph:e.glyph,size:24,color:o.txt.primary.default.color}),figma.widget.h(ft,s(a({name:"ItemAction__content",width:"hug-contents",horizontalAlignText:"left",fill:o.txt.primary.default.color},o.typo.small),{fontWeight:400}),e.content))}var f=mt;var{widget:ht}=figma,{Rectangle:yt}=ht;function vt(){return figma.widget.h(yt,{width:"fill-parent",height:1,fill:o.border.divider.fill})}var b=vt;var wt=e=>{let n=l=>(new Date().getMilliseconds()*100*l).toString(16);return n(e?1*e:1)+"-"+n(e?2*e:2)+"-"+n(e?4*e:4)+"-"+n(e?6*e:6)},E=wt;var{widget:x}=figma,{AutoLayout:g,Frame:Gt,Text:Mt,Input:Yt,Rectangle:Ut,Image:Wt,SVG:Zt,Ellipse:Nt,Line:$t,Fragment:Ct,useSyncedState:A,useSyncedMap:_t,usePropertyMenu:Lt,useEffect:It,useStickable:jt,useStickableHost:Kt,useWidgetId:qt,register:Jt,waitForTask:Qt}=x;function Ot(){let[e,n]=A("data",{isDropdown:!1,size:"medium"}),[l,m]=A("currentEntry",u[0].entries[0].uuid),r=_t("entries");Lt([...e.isDropdown?[{itemType:"action",tooltip:"Settings",propertyName:"openSettings",icon:p.settings(o.txt.minor.default.color)},{itemType:"separator"},{itemType:"dropdown",tooltip:"Type of new entry",propertyName:"currentEntry",options:r.values().sort((t,i)=>t.position-i.position).map(t=>({option:t.uuid,label:t.label})),selectedOption:l}]:[]],({propertyName:t,propertyValue:i})=>{if(t==="openSettings")return new Promise(y=>{z("settings",{data:e})});t==="currentEntry"&&m(i)}),It(()=>{figma.clientStorage.getAsync("isUIopen").then(t=>{t===void 0?figma.clientStorage.setAsync("isUIopen",!1):t&&S()}),figma.on("close",()=>{figma.clientStorage.setAsync("isUIopen",!1)}),figma.ui.onmessage=t=>{t.action==="size"&&T(t.value),t.action==="color"&&P(t.uuid,t.value),t.action==="delete"&&H(t.uuid),t.action==="label"&&F(t.uuid,t.value),t.action==="position"&&D(t.uuid,t.value),t.action==="add"&&k()}});let S=()=>{figma.ui.postMessage({data:e,entries:r.values().sort((t,i)=>t.position-i.position),currentEntry:l})},z=(t,i)=>{if(t==="settings")return new Promise(y=>{figma.showUI(__uiFiles__.settings,{themeColors:!0,title:"Settings",width:300,height:513}),n(a({},e)),figma.clientStorage.setAsync("isUIopen",!0)})},h=t=>{u[t].entries.forEach((i,y,Rt)=>r.set(i.uuid,s(a({},i),{color:o.status[i.variant].fill}))),m(u[t].entries[0].uuid),n(s(a({},e),{isDropdown:!0}))},T=t=>{n(s(a({},e),{size:t}))},P=(t,i)=>{r.set(t,s(a({},r.get(t)),{variant:i,color:o.status[i].fill}))},H=t=>{r.delete(t)},k=()=>{let t=E();r.set(t,{uuid:t,position:r.values().length,label:"Option",variant:"grey",color:o.status.grey.fill})},F=(t,i)=>{r.set(t,s(a({},r.get(t)),{label:i}))},D=(t,i)=>{r.set(t,s(a({},r.get(t)),{position:i})),V()},V=()=>{r.values().sort((t,i)=>t.position-i.position).forEach((t,i)=>{r.set(t.uuid,s(a({},t),{position:i}))})};return figma.widget.h(g,{name:"Widget",verticalAlignItems:"center",direction:"vertical",spacing:0,padding:0},e.isDropdown&&figma.widget.h(I,{variant:r.get(l).variant,content:r.get(l).label.length?r.get(l).label:"...",size:{typo:o.typo[e.size],padding:o.layout.chips[e.size]}}),!e.isDropdown&&figma.widget.h(g,{name:"Presets",verticalAlignItems:"center",direction:"vertical",spacing:0,padding:0,fill:o.layer.default.fill,cornerRadius:o.radius.container.cornerRadius,effect:o.shadow.container,width:280},figma.widget.h(O,{content:"Drowdown presets"}),figma.widget.h(g,{key:"Presets__list",name:"Presets__list",verticalAlignItems:"center",direction:"vertical",spacing:0,width:"fill-parent",padding:{vertical:8}},u.map((t,i)=>i===0?figma.widget.h(Ct,{key:i}):figma.widget.h(f,{key:i,glyph:"dropdown",content:t.label,onClick:()=>h(i)}))),figma.widget.h(b,null),figma.widget.h(g,{key:"Presets__new",name:"Presets__new",verticalAlignItems:"center",direction:"vertical",spacing:0,width:"fill-parent",padding:{vertical:8}},figma.widget.h(f,{content:u[0].label,glyph:"plus",onClick:()=>h(0)}))))}x.register(Ot);})();
