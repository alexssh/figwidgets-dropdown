"use strict";(()=>{var B=Object.defineProperty,G=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var w=(e,n,r)=>n in e?B(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(e,n)=>{for(var r in n||(n={}))Y.call(n,r)&&w(e,r,n[r]);if(y)for(var r of y(n))W.call(n,r)&&w(e,r,n[r]);return e},s=(e,n)=>G(e,M(n));var u=[{label:"New dropdown",entries:[{uuid:"82ai-8ff3-93ap-8ks0",position:0,label:"Set in the settings",variant:"grey",color:""}]},{label:"Project status",entries:[{uuid:"16a8-2ee0-5dc0-8ca0",position:0,label:"Not Started",variant:"grey",color:""},{uuid:"11d28-23a50-474a0-6aef0",position:1,label:"Blocked",variant:"red",color:""},{uuid:"283c-5078-a0f0-f168",position:2,label:"In Progress",variant:"blue",color:""},{uuid:"79e0-f3c0-1e780-2db40",position:3,label:"Completed",variant:"green",color:""}]},{label:"Review status",entries:[{uuid:"ac44-15888-2b110-40998",position:0,label:"Not Started",variant:"grey",color:""},{uuid:"733c-e678-1ccf0-2b368",position:1,label:"In Progress",variant:"blue",color:""},{uuid:"d610-1ac20-35840-50460",position:2,label:"Under Review",variant:"yellow",color:""},{uuid:"eb28-1d650-3aca0-582f0",position:3,label:"Approved",variant:"green",color:""}]}];var d="Inter",C="#000",c="#FFF",U="#EBEBEB",_="#DDDDDD",N="#B4B4B4",Z="#979797",$="#777";var j="#29B95F",b="#277DFF",K="#6B3C16",q="#7522C5",J="#FAB020",Q="#FF730E",X="#D20000",tt={typo:{small:{fontFamily:d,fontSize:16,lineHeight:20,letterSpacing:0},medium:{fontFamily:d,fontSize:24,lineHeight:30,letterSpacing:-1},large:{fontFamily:d,fontSize:40,lineHeight:48,letterSpacing:-1},extraLarge:{fontFamily:d,fontSize:64,lineHeight:80,letterSpacing:-2},huge:{fontFamily:d,fontSize:96,lineHeight:120,letterSpacing:-2}},txt:{primary:{default:{color:C},inverted:{color:c}},secondary:{default:{color:$}},minor:{default:{color:N}},link:{default:{color:b}}},border:{divider:{fill:_},container:{fill:_}},shadow:{container:{type:"drop-shadow",color:{r:0,g:0,b:0,a:.12},offset:{x:0,y:2},blur:12}},status:{green:{fill:j,color:c,preview:"\u{1F7E2}"},orange:{fill:Q,color:c,preview:"\u{1F7E0}"},red:{fill:X,color:c,preview:"\u{1F534}"},yellow:{fill:J,color:c,preview:"\u{1F7E1}"},blue:{fill:b,color:c,preview:"\u{1F535}"},purple:{fill:q,color:c,preview:"\u{1F7E3}"},brown:{fill:K,color:c,preview:"\u{1F7E4}"},black:{fill:C,color:c,preview:"\u26AB\uFE0F"},grey:{fill:Z,color:c,preview:"\u26AA\uFE0F"}},radius:{container:{cornerRadius:8},chip:{cornerRadius:1e3}},layer:{default:{fill:c},active:{fill:U}},layout:{item:{title:{top:24,bottom:12,horizontal:32},action:{vertical:12,horizontal:32}},chips:{small:{vertical:8,horizontal:16},medium:{vertical:12,horizontal:24},large:{vertical:16,horizontal:32},extraLarge:{vertical:24,horizontal:48},huge:{vertical:32,horizontal:64}}}},i=tt;var{widget:et}=figma,{AutoLayout:it,Text:ot}=et;function nt(e){return figma.widget.h(it,a({name:"Chips",cornerRadius:i.radius.chip.cornerRadius,padding:e.size.padding,width:"fill-parent",horizontalAlignItems:"center",verticalAlignItems:"center"},i.status[e.variant]),figma.widget.h(ot,s(a({name:"Chips__content",width:"hug-contents",horizontalAlignText:"center",fill:i.status[e.variant].color},e.size.typo),{fontWeight:500}),e.content))}var O=nt;var{widget:rt}=figma,{AutoLayout:lt,Text:at}=rt;function st(e){return figma.widget.h(lt,{name:"ItemTitle",padding:i.layout.item.title,width:"fill-parent"},figma.widget.h(at,s(a({name:"ItemTitle__content",width:"hug-contents",horizontalAlignText:"left",fill:i.txt.primary.default.color},i.typo.small),{fontWeight:600}),e.content))}var R=st;var{widget:ct}=figma,{SVG:ut}=ct,g={plus:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 11V16.5H10.5V11H16V10H10.5V4.5H9.5V10H4V11H9.5Z" fill="${e}"/></svg>`,settings:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 3H14V5.05001C15.1411 5.28164 16 6.29052 16 7.5C16 8.70948 15.1411 9.71836 14 9.94999V17H13V9.94999C11.8589 9.71836 11 8.70948 11 7.5C11 6.29052 11.8589 5.28164 13 5.05001V3ZM12 7.5C12 6.67157 12.6716 6 13.5 6C14.3284 6 15 6.67157 15 7.5C15 8.32843 14.3284 9 13.5 9C12.6716 9 12 8.32843 12 7.5ZM5 12.5C5 11.6716 5.67157 11 6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5ZM7 14.95C8.14112 14.7184 9 13.7095 9 12.5C9 11.2905 8.14112 10.2816 7 10.05V3H6V10.05C4.85888 10.2816 4 11.2905 4 12.5C4 13.7095 4.85888 14.7184 6 14.95V17H7V14.95Z" fill="${e}"/></svg>`,dropdown:e=>`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4H13C14.6569 4 16 5.34315 16 7V13C16 14.6569 14.6569 16 13 16H7C5.34315 16 4 14.6569 4 13V7C4 5.34315 5.34315 4 7 4ZM3 7C3 4.79086 4.79086 3 7 3H13C15.2091 3 17 4.79086 17 7V13C17 15.2091 15.2091 17 13 17H7C4.79086 17 3 15.2091 3 13V7ZM13 8.5L10 12.5L7 8.5H13Z" fill="${e}"/></svg>`};function dt(e){var n,r;return figma.widget.h(ut,{name:"Icon",height:(n=e.size)!=null?n:20,width:(r=e.size)!=null?r:20,src:g[e.glyph](e.color)})}var I=dt;var{widget:pt}=figma,{AutoLayout:gt,Text:ft}=pt;function mt(e){return figma.widget.h(gt,{name:"ItemAction",padding:i.layout.item.action,width:"fill-parent",direction:"horizontal",verticalAlignItems:"center",spacing:12,hoverStyle:{fill:i.layer.active.fill},onClick:e.onClick},e.glyph&&figma.widget.h(I,{glyph:e.glyph,size:24,color:i.txt.primary.default.color}),figma.widget.h(ft,s(a({name:"ItemAction__content",width:"hug-contents",horizontalAlignText:"left",fill:i.txt.primary.default.color},i.typo.small),{fontWeight:400}),e.content))}var f=mt;var{widget:ht}=figma,{Rectangle:vt}=ht;function yt(){return figma.widget.h(vt,{width:"fill-parent",height:1,fill:i.border.divider.fill})}var L=yt;var wt=e=>{let n=r=>(new Date().getMilliseconds()*100*r).toString(16);return n(e?1*e:1)+"-"+n(e?2*e:2)+"-"+n(e?4*e:4)+"-"+n(e?6*e:6)},A=wt;var{widget:x}=figma,{AutoLayout:p,Frame:Gt,Text:Mt,Input:Yt,Rectangle:Wt,Image:Ut,SVG:Nt,Ellipse:Zt,Line:$t,Fragment:Ct,useSyncedState:E,useSyncedMap:_t,usePropertyMenu:bt,useEffect:Ot,useStickable:jt,useStickableHost:Kt,useWidgetId:qt,register:Jt,waitForTask:Qt}=x;function Rt(){let[e,n]=E("data",{isDropdown:!1,size:"medium"}),[r,m]=E("currentEntry",u[0].entries[0].uuid),l=_t("entries");bt([...e.isDropdown?[{itemType:"action",tooltip:"Settings",propertyName:"openSettings",icon:g.settings(i.txt.minor.default.color)},{itemType:"separator"},{itemType:"dropdown",tooltip:"Select an option",propertyName:"currentEntry",options:l.values().sort((t,o)=>t.position-o.position).map(t=>({option:t.uuid,label:`${i.status[t.variant].preview}\xA0\xA0${t.label}`})),selectedOption:r}]:[]],({propertyName:t,propertyValue:o})=>{if(t==="openSettings")return new Promise(v=>{z("settings",{data:e})});t==="currentEntry"&&m(o)}),Ot(()=>{figma.clientStorage.getAsync("isUIopen").then(t=>{t===void 0?figma.clientStorage.setAsync("isUIopen",!1):t&&S()}),figma.on("close",()=>{figma.clientStorage.setAsync("isUIopen",!1)}),figma.ui.onmessage=t=>{t.action==="size"&&P(t.value),t.action==="color"&&T(t.uuid,t.value),t.action==="delete"&&k(t.uuid),t.action==="label"&&F(t.uuid,t.value),t.action==="position"&&V(t.uuid,t.value),t.action==="add"&&H()}});let S=()=>{figma.ui.postMessage({data:e,entries:l.values().sort((t,o)=>t.position-o.position),currentEntry:r})},z=(t,o)=>{if(t==="settings")return new Promise(v=>{figma.showUI(__uiFiles__.settings,{themeColors:!0,title:"Settings",width:300,height:513}),n(a({},e)),figma.clientStorage.setAsync("isUIopen",!0)})},h=t=>{u[t].entries.forEach((o,v,It)=>l.set(o.uuid,s(a({},o),{color:i.status[o.variant].fill}))),m(u[t].entries[0].uuid),n(s(a({},e),{isDropdown:!0}))},P=t=>{n(s(a({},e),{size:t}))},T=(t,o)=>{l.set(t,s(a({},l.get(t)),{variant:o,color:i.status[o].fill}))},k=t=>{l.delete(t)},H=()=>{let t=A();l.set(t,{uuid:t,position:l.values().length,label:"Option",variant:"grey",color:i.status.grey.fill})},F=(t,o)=>{l.set(t,s(a({},l.get(t)),{label:o}))},V=(t,o)=>{l.set(t,s(a({},l.get(t)),{position:o})),D()},D=()=>{l.values().sort((t,o)=>t.position-o.position).forEach((t,o)=>{l.set(t.uuid,s(a({},t),{position:o}))})};return figma.widget.h(p,{name:"Widget",verticalAlignItems:"center",direction:"vertical",spacing:0,padding:0,overflow:"visible"},e.isDropdown&&figma.widget.h(O,{variant:l.get(r).variant,content:l.get(r).label.length?l.get(r).label:"...",size:{typo:i.typo[e.size],padding:i.layout.chips[e.size]}}),!e.isDropdown&&figma.widget.h(p,{name:"Presets",verticalAlignItems:"center",direction:"vertical",spacing:0,padding:0,fill:i.layer.default.fill,cornerRadius:i.radius.container.cornerRadius,effect:i.shadow.container,width:280},figma.widget.h(R,{content:"Presets"}),figma.widget.h(p,{key:"Presets__list",name:"Presets__list",verticalAlignItems:"center",direction:"vertical",spacing:0,width:"fill-parent",padding:{vertical:8}},u.map((t,o)=>o===0?figma.widget.h(Ct,{key:o}):figma.widget.h(f,{key:o,glyph:"dropdown",content:t.label,onClick:()=>h(o)}))),figma.widget.h(L,null),figma.widget.h(p,{key:"Presets__new",name:"Presets__new",verticalAlignItems:"center",direction:"vertical",spacing:0,width:"fill-parent",padding:{vertical:8}},figma.widget.h(f,{content:u[0].label,glyph:"plus",onClick:()=>h(0)}))))}x.register(Rt);})();
